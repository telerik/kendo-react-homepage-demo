{"version":3,"sources":["components/ColumnMenu.jsx","components/DetailComponent.jsx","components/StateCell.jsx","components/АssignedTo.jsx","components/LoadingPanel.jsx","queries/github.js","components/KendoGridContainer.jsx","App.jsx","index.js"],"names":["ColumnMenu","props","react_default","a","createElement","main","DetailComponent","_React$Component","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","apply","arguments","inherits","createClass","key","value","dataItem","data","makeChartData","node","labels","edges","style","padding","className","height","author","login","dist_es_main","width","transitions","text","color","position","font","render","item","point","concat","category","type","categoryField","field","colorField","background","visible","overflowY","react_markdown_default","source","body","React","Component","StateCell","state","fill","paddingLeft","viewBox","version","aria-hidden","fillRule","d","АssignedTo","assignees","nodes","map","index","alt","src","avatarUrl","name","LoadingPanel","loadingPanel","gridContent","document","querySelector","ReactDOM","createPortal","GITHUB_REPO_QUERY","gql","_templateObject","GITHUB_REPO_QUERY_REACT","_templateObject2","KendoGridContainer","_getPrototypeOf2","_this","_len","length","args","Array","_key","call","skip","take","allLabels","uniqueLabels","initialLoad","expandChange","event","expanded","forceUpdate","getOccurrence","array","count","forEach","v","currentLabels","currentLabelsParse","occurrence","e","indexOf","push","labelName","explode","repo","_this2","react_apollo_esm","query","_ref","loading","gridData","error","reactIssues","repository","issues","kendoReactIssues","createdAt","Date","filter","i","ar","Fragment","assign","process","sortable","pageable","onDataStateChange","setState","expandField","onExpandChange","overflow","paddingBottom","detail","DetailComponent_DetailComponent","title","cell","columnMenu","format","LoadingPanel_LoadingPanel","client","ApolloClient","uri","request","operation","setContext","headers","Authorization","REACT_APP_API_KEY","split","reverse","join","App","selected","handleSelect","kendo_react_layout_dist_es_main","onSelect","tabPosition","KendoGridContainer_KendoGridContainer","require","config","src_App","getElementById"],"mappings":"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","file":"static/js/main.79a14a65.chunk.js","sourcesContent":["import React from 'react';\r\nimport {\r\n    GridColumnMenuSort,\r\n    GridColumnMenuFilter\r\n} from '@progress/kendo-react-grid';\r\n\r\nexport const ColumnMenu = (props) => {\r\n    return (\r\n        <div>\r\n            <GridColumnMenuSort {...props} />\r\n            <GridColumnMenuFilter {...props} />\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\nimport ReactMarkDown from 'react-markdown';\r\nimport {\r\n    Chart,\r\n    ChartLegend,\r\n    ChartSeries,\r\n    ChartSeriesItem,\r\n    ChartSeriesLabels,\r\n    ChartTooltip,\r\n    ChartTitle\r\n} from '@progress/kendo-react-charts';\r\n\r\nimport 'hammerjs';\r\n\r\nexport class DetailComponent extends React.Component {\r\n    render() {\r\n        const dataItem = this.props.dataItem;\r\n        const data = this.props.makeChartData(dataItem.node.labels.edges);\r\n\r\n        const defaultTooltipRender = (item) => {\r\n            if (item.point) {\r\n                return (`${item.point.category} : ${item.point.value}`)\r\n            }\r\n            return \"\"\r\n        };\r\n\r\n        return (\r\n            <div style={{ padding: 0 }}>\r\n                <div className=\"row\" style={{ height: 300 }}>\r\n                    <div className=\"col-2\" >\r\n                        <h4><strong>Author:</strong> {dataItem.node.author.login}</h4>\r\n                        <Chart style={{ width: '100%', height: 250 }} transitions={false}>\r\n                            <ChartTitle text=\"Issue labels\" color=\"black\" position='bottom' font=\"19pt sans-serif\" />\r\n                            <ChartTooltip render={defaultTooltipRender} />\r\n                            <ChartSeries>\r\n                                <ChartSeriesItem type=\"pie\" data={data} categoryField=\"labelName\" field=\"occurrence\" colorField=\"color\">\r\n                                    <ChartSeriesLabels color=\"black\" background=\"none\" visible={false} />\r\n                                </ChartSeriesItem>\r\n                            </ChartSeries>\r\n                            <ChartLegend visible={false} />\r\n                        </Chart>\r\n                    </div>\r\n                    <div className=\"col-10 issue-description\" style={{ overflowY: 'scroll', height: '100%' }}>\r\n                        <h4>Description</h4>\r\n                        <ReactMarkDown source={dataItem.node.body} />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nexport function StateCell(props) {\r\n    return (\r\n        <td>\r\n            <span>\r\n                {props.dataItem.node.state === \"OPEN\"\r\n                    ? <svg style={{ fill: 'green', paddingLeft: 2 }} viewBox=\"0 0 14 16\" version=\"1.1\" width=\"14\" height=\"16\" aria-hidden=\"true\"><path fillRule=\"evenodd\" d=\"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z\"></path></svg>\r\n                    : <svg style={{ fill: 'red' }} viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fillRule=\"evenodd\" d=\"M7 10h2v2H7v-2zm2-6H7v5h2V4zm1.5 1.5l-1 1L12 9l4-4.5-1-1L12 7l-1.5-1.5zM8 13.7A5.71 5.71 0 0 1 2.3 8c0-3.14 2.56-5.7 5.7-5.7 1.83 0 3.45.88 4.5 2.2l.92-.92A6.947 6.947 0 0 0 8 1C4.14 1 1 4.14 1 8s3.14 7 7 7 7-3.14 7-7l-1.52 1.52c-.66 2.41-2.86 4.19-5.48 4.19v-.01z\"></path></svg>\r\n                }\r\n            </span>\r\n        </td>\r\n    );\r\n}","import React from 'react';\r\n\r\nexport const АssignedTo = (props) => {\r\n    return (\r\n        <td>\r\n            {props.dataItem.node.assignees.nodes.map((item, index) => (\r\n                (\r\n                    <p key={index} className=\"assign-to-container\">\r\n                        <span>\r\n                            <img\r\n                                className=\"img-circle\"\r\n                                alt=\"User Avatar\"\r\n                                src={item.avatarUrl} style={{ width: 30, height: 30 }}\r\n                            />\r\n                        </span>\r\n                        {item.name}\r\n                    </p>)\r\n            ))}\r\n        </td>\r\n    )\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nexport class LoadingPanel extends React.Component {\n    render() {\n        const loadingPanel = (\n            <div className=\"k-loading-mask\">\n                <span className=\"k-loading-text\">Loading</span>\n                <div className=\"k-loading-image\"></div>\n                <div className=\"k-loading-color\"></div>\n            </div>\n        );\n\n        const gridContent = document && document.querySelector('.k-grid-content');\n        return gridContent ? ReactDOM.createPortal(loadingPanel, gridContent) : loadingPanel;\n    }\n}","import gql from \"graphql-tag\";\r\nexport const GITHUB_REPO_QUERY = gql`\r\nquery {\r\n  repository(owner:\"graphql\", name:\"graphql-js\") {\r\n    issues(last:100) {\r\n      edges {\r\n        node {\r\n          title\r\n          state\r\n          number\r\n          body\r\n          createdAt\r\n          author{\r\n            login\r\n            avatarUrl\r\n          }\r\n          assignees (last: 10) {\r\n              nodes {\r\n                name\r\n                avatarUrl\r\n              }\r\n          }\r\n          url\r\n          labels(first:5) {\r\n            edges {\r\n              node {\r\n                name,\r\n                color\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}`;\r\nexport const GITHUB_REPO_QUERY_REACT = gql`\r\nquery {\r\n    repository(owner:\"facebook\", name:\"react\") {\r\n      issues(last:100) {\r\n        edges {\r\n          node {\r\n            title\r\n            state\r\n            number\r\n            body\r\n            createdAt\r\n            author{\r\n              login\r\n              avatarUrl\r\n            }\r\n            assignees (last: 10) {\r\n                nodes {\r\n                  name\r\n                  avatarUrl\r\n                }\r\n            }\r\n            url\r\n            labels(first:5) {\r\n              edges {\r\n                node {\r\n                  name\r\n                  color\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }`;\r\n\r\n  export function getQuery(repo){\r\n    if(repo === \"gql\"){\r\n        return GITHUB_REPO_QUERY\r\n    } else if(repo === \"react\"){\r\n        return GITHUB_REPO_QUERY_REACT\r\n    }\r\n  }","import React from \"react\";\r\nimport { Query } from \"react-apollo\";\r\nimport { Grid, GridColumn } from '@progress/kendo-react-grid';\r\nimport { process } from '@progress/kendo-data-query';\r\nimport { ColumnMenu } from './ColumnMenu';\r\nimport { DetailComponent } from './DetailComponent';\r\nimport { StateCell } from './StateCell';\r\nimport { АssignedTo } from './АssignedTo';\r\nimport { LoadingPanel } from './LoadingPanel';\r\n\r\nimport { getQuery } from '../queries/github';\r\nimport kendoReactIssues from '../data/fallBackData.json';\r\nimport reactIssues from '../data/fallBackDataReact.json';\r\n\r\n\r\n\r\nexport class KendoGridContainer extends React.Component {\r\n    state = {\r\n        skip: 0,\r\n        take: 10\r\n    }\r\n    allLabels = [];\r\n    uniqueLabels = [];\r\n    initialLoad = true;\r\n    expandChange = (event) => {\r\n        event.dataItem.expanded = !event.dataItem.expanded;\r\n        this.forceUpdate();\r\n    }\r\n\r\n    getOccurrence = (array, value) => {\r\n        var count = 0;\r\n        array.forEach((v) => (v.name === value.name && count++));\r\n        return count;\r\n    }\r\n\r\n    makeChartData = (currentLabels) => {\r\n        let data = []\r\n        let currentLabelsParse = currentLabels.map(item => {\r\n            item.name = item.node.name\r\n            item.color = item.node.color\r\n            return item\r\n        })\r\n\r\n        this.uniqueLabels.forEach((item) => {\r\n            let occurrence = this.getOccurrence(this.allLabels, item)\r\n            let index = currentLabelsParse.map((e) => { return e.name }).indexOf(item.name);\r\n            if (index >= 0) {\r\n                data.push({\r\n                    occurrence: occurrence,\r\n                    color: item.color,\r\n                    labelName: item.name,\r\n                    explode: true\r\n                })\r\n            } else {\r\n                data.push({\r\n                    occurrence: occurrence,\r\n                    color: item.color,\r\n                    labelName: item.name\r\n                })\r\n            }\r\n        })\r\n\r\n        return data\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Query\r\n                    query={getQuery(this.props.repo)}\r\n                >\r\n                    {({ data, loading, error }) => {\r\n                        let gridData = []\r\n                        if (error) {\r\n                            if (this.props.repo === 'react') {\r\n                                gridData = reactIssues.data.repository.issues.edges;\r\n                            } else {\r\n                                gridData = kendoReactIssues.data.repository.issues.edges;\r\n                            }\r\n\r\n                        } else if (!loading) {\r\n                            gridData = data.repository.issues.edges;\r\n                        }\r\n                        this.allLabels = [];\r\n\r\n                        gridData.map((item, index) => {\r\n                            if (this.initialLoad) {\r\n                                index === 0 ? item.expanded = true : item.expanded = false\r\n                                this.initialLoad = false\r\n                            }\r\n                            item.node.createdAt = new Date(item.node.createdAt)\r\n                            item.node.labels.edges.forEach(item => {\r\n                                this.allLabels.push({\r\n                                    name: item.node.name,\r\n                                    color: \"#\" + item.node.color\r\n                                })\r\n                            })\r\n                            return item;\r\n                        });\r\n                        this.uniqueLabels = this.allLabels.filter((item, i, ar) => {\r\n                            let index = ar.map((e) => e.name).indexOf(item.name);\r\n\r\n                            return index === i;\r\n                        });\r\n\r\n                        return (\r\n                            <React.Fragment>\r\n                                <Grid\r\n                                    data={process(gridData, this.state)}\r\n                                    sortable\r\n                                    pageable\r\n                                    {...this.state}\r\n                                    onDataStateChange={(e) => { this.setState(e.data); }}\r\n                                    expandField=\"expanded\"\r\n                                    onExpandChange={this.expandChange}\r\n                                    style={{ height: '100%', overflow: 'auto', paddingBottom: 57 }}\r\n                                    detail={(props) => <DetailComponent {...props} makeChartData={this.makeChartData} />}\r\n                                >\r\n                                    <GridColumn field=\"node.number\" title=\"ID\" width={100} />\r\n                                    <GridColumn field=\"node.state\" title=\"State\" cell={StateCell} width={100} />\r\n                                    <GridColumn field=\"node.title\" title=\"Issue\" columnMenu={ColumnMenu} />\r\n                                    <GridColumn field=\"node.assignees.node\" title=\"Assigned to\" width={200} cell={АssignedTo} sortable={false} />\r\n                                    <GridColumn field=\"node.createdAt\" title=\"Created on\" width={200} format='{0:yyyy/MM/dd hh:mm a}' filter=\"date\" columnMenu={ColumnMenu} />\r\n                                </Grid>\r\n                                {loading && <LoadingPanel />}\r\n                            </React.Fragment>)\r\n                    }}\r\n                </Query>\r\n            </div>\r\n        );\r\n    }\r\n}","import React, { Component } from \"react\";\nimport { ApolloProvider } from \"react-apollo\";\nimport ApolloClient from \"apollo-boost\";\nimport { KendoGridContainer } from \"./components/KendoGridContainer\";\nimport { TabStrip, TabStripTab } from '@progress/kendo-react-layout';\n\nconst client = new ApolloClient({\n  uri: \"https://api.github.com/graphql\",\n  request: operation => {\n    operation.setContext({\n      headers: {\n        Authorization: `bearer ${process.env.REACT_APP_API_KEY.split(\"\").reverse().join(\"\")}`\n      }\n    });\n  }\n});\n\nclass App extends Component {\n  state = {\n    selected: 0\n  }\n\n  handleSelect = (e) => {\n    this.setState({ selected: e.selected })\n  }\n  render() {\n    return (\n      <ApolloProvider client={client}>\n        <h1 className=\"demo-heading\">GitHub Issues Demo</h1>\n        <TabStrip selected={this.state.selected} onSelect={this.handleSelect} tabPosition={\"top\"}>\n          <TabStripTab title=\"React Repo\">\n            <KendoGridContainer repo=\"react\" />\n          </TabStripTab>\n          <TabStripTab title=\"GraphQL-JS Repo\">\n            <KendoGridContainer repo=\"gql\" />\n          </TabStripTab>\n        </TabStrip>\n      </ApolloProvider>\n    );\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './styles/main.scss';\nrequire('dotenv').config();\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}